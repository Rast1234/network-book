# 5. Сеансовый уровень (session)

*   **Тип данных:** ...
*   **Назначение:** ...
*   **Примеры:** ...
*   **Действующие "лица"**: ...

Вот что говорит википедия про сеансовый уровень: _отвечает за поддержание сеанса связи, позволяя приложениям взаимодействовать между собой длительное время. Уровень управляет созданием/завершением сеанса, обменом информацией, синхронизацией задач, определением права на передачу данных и поддержанием сеанса в периоды неактивности приложений._

Не правда ли, похоже на то, чем занимается TCP/IP? Дело в том, что связка TCP/IP пришла из DoD (Department of Defense) - модель сетевого взаимодействия, разработанная Министерством Обороны США, и ее нельзя нормально классифицировать по модели OSI, хотя все это неплохо работает вместе. Просто TCP/IP вбирает в себя некоторые функции, которые предусмотрены сеансовым уровнем. И еще есть несколько протоколов, которые стоит рассмотреть здесь. Но для начала - пару слов про туннели.


### Туннели

Бывает, нужно связать компьютеры между собой, используя уже существующие сети, но защитить передаваемые данные между ними. Или сделать так, чтобы компьютеры считали себя членами одной локальной сети, при этом находясь в разных сетях и в разных местах. Для этого используется туннелирование - инкапсуляция одних сетевых протоколов в другие с целью создать одну сеть поверх другой. Для этого используются туннельные протоколы, как бы представляющие из себя туннель между участниками виртуальной сети, проложенный через существующую сеть.

Общая идея такая: пусть приложение или система думает, что отправляет пакеты на какой-то сетевой интерфейс. А этот интерфейс на самом деле не реальное устройство, а виртуальное, и проходящие через него данные обрабатываются (например, шифруются) другой программой и она уже передает пакеты через настоящий сетевой интерфейс. На стороне получателя такая же программа получает данные, расшифровывает или распаковывает их и передает в виртуальный интерфейс как будто они так и пришли. И система/приложение не замечает разницы. Договоренность, как заворачивать/зашифровывать/разворачивать/распаковывать данные в этом случае и есть туннельный протокол.


### PPTP (обычно, порт TCP 1723)

Point-to-Point Tunneling Protocol — "туннельный протокол типа точка-точка", позволяющий компьютеру устанавливать защищенное соединение с сервером за счет создания специального туннеля в стандартной, незащищенной сети. PPTP помещает (инкапсулирует) кадры PPP (вместо Ethernet) в IP-пакеты для передачи по глобальной IP-сети, например Интернет. PPTP может также использоваться для организации туннеля между двумя локальными сетями. РРТР использует дополнительное TCP-соединение для обслуживания туннеля.

Протокол встречается при подключении к провайдерам. Предусмотрены некоторые способы шифрования, но они устарели и ненадежны.


### L2TP (обычно, порты TCP 1701 и UDP 1701)

Layer 2 Tunneling Protocol — протокол туннелирования второго уровня — в компьютерных сетях туннельный протокол, использующийся для поддержки виртуальных частных сетей. 

Тоже встречается при подключении к провайдерам. Занимается тем, что поддерживает виртуальную сеть, начиная со второго уровня OSI, поверх TCP и UDP. Сам по себе не предусматривает шифрования, поэтому поверх него обычно используется набор протоколов IPsec.


# Навигация

- [Пролог](README.md)
- [0. Поехали](0_start.md)
- [1. Физический уровень (physical)](1_physical.md)
- [2. Канальный уровень (data link)](2_data_link.md)
- [3. Сетевой уровень (network)](3_network.md)
- [4. Транспортный уровень (transport)](4_transport.md)
- `5. Сеансовый уровень (session)`
- [6. Уровень представления (presentation)](6_presentation.md)
- [7. Прикладной уровень (application)](7_application.md)
- [8. Что осталось за кадром](8_end.md)
